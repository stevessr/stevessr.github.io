(()=>{"use strict";window.addEventListener("DOMContentLoaded",(async()=>{const e=[],t=document.getElementById("container"),n=await caches.open("phi-runtime-v1"),c=await n.keys();document.querySelector("#delAllCache").addEventListener("click",(function(){e.forEach((e=>{e.delCache().then(e.element.remove)}))})),c.forEach((function(c){const a=function(e,t){const n=document.createElement("div");n.classList.add("item"),n.setAttribute("title",t.url),n.setAttribute("data-url",t.url),n.setAttribute("data-file-name",new URL(t.url).pathname.split("/").slice(-1)[0]);const c=document.createElement("button");return c.classList.add("deleteBtn"),c.innerText="删除",c.addEventListener("click",a),n.appendChild(c),{element:n,delCache:a};async function a(){await e.delete(t),c.removeEventListener("click",a),n.remove()}}(n,c);t.append(a.element),e.push(a)}))}))})();